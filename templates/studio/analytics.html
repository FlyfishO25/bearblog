{% extends 'base.html' %}

{% block title %}
    Analytics | Bear Blog
{% endblock %}

{% block nav %}
{% include '../snippets/dashboard_nav.html' %}
{% endblock %}

{% block content %}
<content>
    <h1>Analytics</h1>
    
    {{chart|safe}}

    <p>
        <b>Unique reads:</b> {{ unique_reads.hit_count__sum }}<br>
        <b>Unique visitors:</b> {{ unique_visitors }}
    </p>

    <div style="display:flex;justify-content:space-between; font-size: 12px;">
        <div style="width:48%">
            <h3>Pages</h3>
            {% for post in posts %}
            <ul style="padding: 0;">
                <li style="display:flex;justify-content:space-between;">
                {{post.title}} <span>{{post.hit_count}}
                </li>
            </ul>
            {% endfor %}
        </div>
        <div style="width:48%">
            <h3>Referrers</h3>
            <ul style="padding: 0;">
                {% for referrer in referrers %}
                <li style="display:flex;justify-content:space-between;">
                    {{ referrer.referrer }}
                    <span>{{ referrer.number }}</span>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <div style="padding-top:20px;display:flex;justify-content:space-between; font-size: 12px;">
        <div style="width:30%">
            <h3>Devices</h3>
            <ul style="padding: 0;">
                {% for device in devices %}
                <li style="display:flex;justify-content:space-between;">
                    {{ device.device }}
                    <span>{{ device.number }}</span>
                </li>
                {% endfor %}
            </ul>
        </div>
        <div style="width:30%">
            <h3>Browsers</h3>
            <ul style="padding: 0;">
                {% for browser in browsers %}
                <li style="display:flex;justify-content:space-between;">
                    {{ browser.browser }}
                    <span>{{ browser.number }}</span>
                </li>
                {% endfor %}
            </ul>
        </div>
        <div style="width:30%">
            <h3>Countries</h3>
            <ul style="padding: 0;">
                {% for country in countries %}
                <li style="display:flex;justify-content:space-between;">
                    {{ country.country }}
                    <span>{{ country.number }}</span>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
</content>
{% endblock %}