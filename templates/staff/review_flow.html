{% extends 'base.html' %}
{% load custom_tags %}

{% block favicon %}{{ blog.favicon }}{% endblock %}

{% block title %}{{ blog.title }}{% endblock %}


{% block seo %}
<meta name="robots" content="noindex">
{% endblock %}


{% block custom_styles %}{% include 'snippets/styles.html' with blog=blog %}{% endblock %}

{% block heading %}
<br>
{{ blog.title }}
{% endblock %}

{% block nav %}

<div style="position:fixed; bottom: 0px; left:0px; right:0; background-color: wheat; padding: 20px 10px 10px; font-size: 14px; font-family: Verdana; color: black;">
    <form method="post" action="approve/{{ blog.pk }}"> 
        {% csrf_token %}
        <textarea name="message" style="max-width: 600px; height: 130px; width: 99%;">
Hey, I've just reviewed your blog. It looks good and has been approved.

<br><br>
Have a great week!
<br>
Herman
        </textarea>
        <br>
        <input type="submit" value="A - Approve" id="A"> |
        <small>
            <a href="approve/{{ blog.pk }}?no-email=True" id="W">W - Approve (no email)</a> |
            <a href="ignore/{{ blog.pk }}" id="E">E - Ignore</a> |
            <a href="block/{{ blog.pk }}" id="F">F - Block</a> |
            <a href="delete/{{ blog.pk }}" id="G">G - Delete</a>
        </small>
    </form>
    <br>
    {{ still_to_go }}{% if still_to_go > 48 %}+{% endif %} blog(s) still to go
</div>
{% endblock %}

{% block content %}
<hr>
<p>{{ blog.reviewer_note|linebreaks }}</p>
<hr>
<a href="{{ root }}" target="_blank">{{ root }}</a>
<br>
<a href="mailto:{{ blog.user.email }}">{{ blog.user.email }}</a>
<p><b>Created {{ blog.created_date | timesince }} ago</b></p>
<p><b>Last modified {{ blog.last_modified | timesince }} ago</b></p>
<p><b>Last posted {{ blog.last_posted | timesince }} ago</b></p>

<nav>{{ blog.nav | markdown:blog | safe }}</nav>
{{ content | markdown:blog | safe }}


<ul style="padding-bottom: 300px">
    {% for post in posts %}
    <li>
        #{{ forloop.counter }}
        <i>
            <time datetime="{{ post.published_date|date:'Y-m-d' }}">
                - {{ post.published_date|date:'d M, Y' }}
            </time>
        </i>
        <h3><a href="{{ root }}/{{ post.slug }}/" target="_blank">{{ post.title }}</a></h3>
        <p>
            {{ post.content | markdown:post | safe }}
        </p>
    </li>
    {% endfor %}
</ul>


{% if posts.empty %}
<p>
    No posts yet
</p>
{% endif %}

{% endblock %}

{% block footer %}
<script>
    document.addEventListener('keydown', function(event) {
        const key = event.key.toUpperCase(); // Normalize key to uppercase
        
        // Trigger the corresponding action based on the pressed key
        switch (key) {
            case 'A':
                document.getElementById('A').click();
                break;
            case 'W':
                document.getElementById('W').click();
                break;
            case 'E':
                document.getElementById('E').click();
                break;
            case 'F':
                document.getElementById('F').click();
                break;
            case 'G':
                document.getElementById('G').click();
                break;
        }
    });
</script>
Powered by <a href="https://bearblog.dev">Bear ʕ•ᴥ•ʔ</a>
{% endblock %}